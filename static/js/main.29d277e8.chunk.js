(this["webpackJsonpnext-threejs"]=this["webpackJsonpnext-threejs"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(34),i=n.n(s),o=(n(43),n(44),n(12)),a=n(50),j=n(7),l=n(6),b=function(e){var t=Object(r.useRef)(),n=Object(o.e)().scene;return Object(r.useEffect)((function(){n.lights?n.lights.push(t):n.lights=[t]}),[]),Object(l.jsxs)("mesh",Object(j.a)(Object(j.a)({},e),{},{ref:t,children:[Object(l.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(l.jsx)("sphereBufferGeometry",{args:[.2,20,20]}),Object(l.jsx)("meshPhysicalMaterial",{emissive:"white"})]}))},u=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("ambientLight",{intensity:.2}),Object(l.jsx)("directionalLight",{position:[6,3,0],intensity:2,castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10)}),Object(l.jsx)(b,{position:[-6,3,0]}),Object(l.jsx)(b,{position:[0,3,0]}),Object(l.jsx)(b,{position:[6,3,0]})]})},h=n(9),d=function(e){var t=Object(a.c)((function(){return Object(j.a)({args:[20,1,10]},e)})),n=Object(h.a)(t,2),r=n[0];n[1];return Object(l.jsxs)("mesh",Object(j.a)(Object(j.a)({ref:r},e),{},{receiveShadow:!0,children:[Object(l.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(l.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},f=n(0),O=function(e){var t=Object(o.d)(f.TextureLoader,"/next-threejs/autoshop.jpg"),n=Object(o.e)().gl,c=Object(r.useMemo)((function(){return new f.WebGLCubeRenderTarget(t.image.height).fromEquirectangularTexture(n,t)}),[n,t]);return Object(l.jsx)("primitive",{attach:"background",object:c})},p=n(37);Object(o.b)({OrbitControls:p.a});var x=function(){var e=Object(o.e)(),t=e.camera,n=e.gl;return Object(l.jsx)("orbitControls",{attach:"orbitControls",args:[t,n.domElement]})},g=n(38);Object(o.b)({DragControls:g.a});var m=function(e){var t=Object(r.useState)([]),n=Object(h.a)(t,2),c=n[0],s=n[1],i=Object(r.useRef)(),a=Object(r.useRef)(),j=Object(o.e)(),b=j.camera,u=j.gl,d=j.scene;return Object(r.useEffect)((function(){s(i.current.children)}),[]),Object(r.useEffect)((function(){a.current.addEventListener("hoveron",(function(){return d.orbitControls.enabled=!1})),a.current.addEventListener("hoveroff",(function(){return d.orbitControls.enabled=!0})),a.current.addEventListener("dragstart",(function(e){var t;console.log(e.object),null===(t=e.object.api)||void 0===t||t.mass.set(0)})),a.current.addEventListener("dragend",(function(e){var t;return null===(t=e.object.api)||void 0===t?void 0:t.mass.set(1)})),a.current.addEventListener("drag",(function(e){var t,n;null===(t=e.object.api)||void 0===t||t.position.copy(e.object.position),null===(n=e.object.api)||void 0===n||n.velocity.set(0,0,0)}))}),[c,d]),Object(l.jsxs)("group",{ref:i,children:[Object(l.jsx)("dragControls",{transformGroup:e.transformGroup,ref:a,args:[c,b,u.domElement]}),e.children]})},v=n(39),w=function(e){var t,n=Object(o.d)(v.a,"/next-threejs"+e.path);return n.animations.length>0&&(t=new f.AnimationMixer(n.scene),n.animations.forEach((function(e){t.clipAction(e).play()}))),Object(o.c)((function(e,n){var r;return null===(r=t)||void 0===r?void 0:r.update(n)})),n.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.recieveShadow=!0,e.material.side=f.FrontSide)})),Object(l.jsx)("primitive",{object:n.scene,scale:e.scale})},y=function(e){var t=e.position,n=void 0===t?[0,0,0]:t,r=e.offset,c=void 0===r?[0,0,0]:r,s=e.dims,i=void 0===s?[1,1,1]:s,o=e.visible,j=void 0!==o&&o,b=e.children,u=Object(a.c)((function(){return{mass:1,args:i,position:n}})),d=Object(h.a)(u,2),f=d[0],O=d[1];return Object(l.jsxs)("group",{ref:f,api:O,children:[Object(l.jsxs)("mesh",{visible:j,scale:i,children:[Object(l.jsx)("boxBufferGeometry",{}),Object(l.jsx)("meshBasicMaterial",{wireframe:!0})]}),Object(l.jsx)("group",{position:c,children:b})]})},S=function(){return Object(l.jsxs)(r.Suspense,{fallback:null,children:[Object(l.jsxs)("group",{rotation:[0,Math.PI,0],children:[Object(l.jsx)(m,{transformGroup:!0,children:Object(l.jsx)(y,{position:[-4,1,0],dims:[3,1.5,6],offset:[0,-.05,0],children:Object(l.jsx)(w,{path:"/tesla_model_3/scene.gltf",scale:new Array(3).fill(.01)})})}),Object(l.jsx)(m,{transformGroup:!0,children:Object(l.jsx)(y,{position:[4,1,0],dims:[3,1.5,6],offset:[0,0,0],children:Object(l.jsx)(w,{path:"/tesla_model_s/scene.gltf",scale:new Array(3).fill(1.1)})})})]}),Object(l.jsx)(m,{transformGroup:!0,children:Object(l.jsx)(y,{position:[0,1,0],dims:[1,2,1],offset:[0,-1,0],children:Object(l.jsx)(w,{path:"/tesla_bot/scene.gltf",scale:new Array(3).fill(1)})})})]})},C={activeMesh:null,cameraPos:new f.Vector3(7,2,4),target:new f.Vector3(4,0,0),shouldUpdate:!0},E=function(){return Object(o.c)((function(e){var t=e.camera,n=e.scene;C.shouldUpdate&&(t.position.lerp(C.cameraPos,.1),n.orbitControls.target.lerp(C.target,.1),n.orbitControls.update(),t.position.clone().sub(C.cameraPos).length()<.1&&(C.shouldUpdate=!1))})),null},M=n(14),L={zIndex:1,position:"absolute",bottom:"30vh",width:"30px",height:"30px",textAlign:"center",fontSize:"20px",fontWeight:"bold",background:"white",borderRadius:"100px",border:"1px solid black",opacity:.7,cursor:"pointer"},P=function(){var e={1:{cameraPos:[9,2,4],target:[4,0,0]},2:{cameraPos:[1,2,3],target:[-4,0,0]}},t=function(t){var n,r;(n=C.cameraPos).set.apply(n,Object(M.a)(e[t].cameraPos)),(r=C.target).set.apply(r,Object(M.a)(e[t].target)),C.shouldUpdate=!0};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:function(e){return t(2)},style:Object(j.a)({left:"40vw"},L),children:"<"}),Object(l.jsx)("button",{onClick:function(e){return t(1)},style:Object(j.a)({right:"40vw"},L),children:">"})]})},k=n(31),G=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],s=Object(o.e)().scene;return Object(r.useEffect)((function(){s.lights&&3===s.lights.length&&c(s.lights)}),[s.lights]),n?Object(l.jsx)(k.b,{children:Object(l.jsx)(k.a,{focusDistance:0,focalLength:.03,bokehScale:2,height:480})}):null};var F=function(){return Object(l.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(l.jsx)(P,{}),Object(l.jsxs)(o.a,{gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},shadowMap:!0,style:{background:"black"},camera:{position:[7,7,7]},children:[Object(l.jsx)(E,{}),Object(l.jsx)(r.Suspense,{fallback:null,children:Object(l.jsx)(O,{})}),Object(l.jsx)(u,{}),Object(l.jsx)(x,{}),Object(l.jsx)("axesHelper",{args:[5]}),Object(l.jsxs)(a.a,{children:[Object(l.jsx)(S,{}),Object(l.jsx)(d,{position:[0,-.5,0]})]}),Object(l.jsx)(G,{})]})]})},z=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(F,{})}),document.getElementById("root")),z()}},[[49,1,2]]]);
//# sourceMappingURL=main.29d277e8.chunk.js.map